"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5803],{2718:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"going-deeper/queue","title":"Queue and Messaging","description":"The concept of the queue is to allow messages to be sent using connections an queue.","source":"@site/docs/going-deeper/queue.md","sourceDirName":"going-deeper","slug":"/going-deeper/queue","permalink":"/pashmak/docs/going-deeper/queue","draft":false,"unlisted":false,"editUrl":"https://github.com/devbro1/pashmak/blob/master/docs/docs/going-deeper/queue.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Middleware","permalink":"/pashmak/docs/going-deeper/middlewares"},"next":{"title":"Scheduler and Cron Jobs","permalink":"/pashmak/docs/going-deeper/scheduler"}}');var i=s(2540),t=s(3023);const r={sidebar_position:7},o="Queue and Messaging",d={},c=[{value:"connection vs queue",id:"connection-vs-queue",level:2},{value:"Creating a connection",id:"creating-a-connection",level:2},{value:"Available drivers:",id:"available-drivers",level:2},{value:"database",id:"database",level:3},{value:"SQS",id:"sqs",level:3},{value:"RabbitMQ",id:"rabbitmq",level:3},{value:"Logger",id:"logger",level:3},{value:"Async",id:"async",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"queue-and-messaging",children:"Queue and Messaging"})}),"\n",(0,i.jsx)(n.p,{children:"The concept of the queue is to allow messages to be sent using connections an queue."}),"\n",(0,i.jsx)(n.h2,{id:"connection-vs-queue",children:"connection vs queue"}),"\n",(0,i.jsx)(n.p,{children:"concept of Connection is like a server/service that can handle multiple queues. Think of RabbitMQ server that can handle multiple queues."}),"\n",(0,i.jsx)(n.p,{children:"queue is a channel inside a connection that can handle messages."}),"\n",(0,i.jsx)(n.h2,{id:"creating-a-connection",children:"Creating a connection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'// app/config/queues.ts\nexport default {\n  queues: {\n    default: {\n      type: "database",\n    },\n  },\n};\n'})}),"\n",(0,i.jsx)(n.h2,{id:"available-drivers",children:"Available drivers:"}),"\n",(0,i.jsx)(n.h3,{id:"database",children:"database"}),"\n",(0,i.jsx)(n.p,{children:"uses database to store messages. This is the default driver and requires a table in your database."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# to create a migration for queue table\nyarn pdev generate queue migration\n"})}),"\n",(0,i.jsx)(n.h3,{id:"sqs",children:"SQS"}),"\n",(0,i.jsx)(n.p,{children:"uses AWS SQS service to handle messages. You need to provide AWS credentials and region in your config."}),"\n",(0,i.jsx)(n.h3,{id:"rabbitmq",children:"RabbitMQ"}),"\n",(0,i.jsx)(n.h3,{id:"logger",children:"Logger"}),"\n",(0,i.jsx)(n.h3,{id:"async",children:"Async"})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},3023:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var a=s(3696);const i={},t=a.createContext(i);function r(e){const n=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);