"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4512],{3023:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>l});var s=n(3696);const a={},t=s.createContext(a);function i(e){const r=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(t.Provider,{value:r},e.children)}},4293:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"going-deeper/helper","title":"Helpers","description":"Set of useful helper functions.","source":"@site/docs/going-deeper/helper.md","sourceDirName":"going-deeper","slug":"/going-deeper/helper","permalink":"/pashmak/docs/going-deeper/helper","draft":false,"unlisted":false,"editUrl":"https://github.com/devbro1/pashmak/blob/master/docs/docs/going-deeper/helper.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"File Storage","permalink":"/pashmak/docs/going-deeper/file-storage"},"next":{"title":"Loggers","permalink":"/pashmak/docs/going-deeper/logger"}}');var a=n(2540),t=n(3023);const i={sidebar_position:4},l="Helpers",d={},u=[{value:"Encryption Helpers",id:"encryption-helpers",level:2},{value:"getEnv(key: string, defaultValue?: any): any",id:"getenvkey-string-defaultvalue-any-any",level:4},{value:"isBcryptHash(str: string): boolean",id:"isbcrypthashstr-string-boolean",level:4},{value:"encryptPassword(password: string): Promise<code>&lt;string&gt;</code>",id:"encryptpasswordpassword-string-promisestring",level:4},{value:"compareBcrypt(password: string, hash: string): Promise<code>&lt;boolean&gt;</code>",id:"comparebcryptpassword-string-hash-string-promiseboolean",level:4},{value:"Time Helpers",id:"time-helpers",level:2},{value:"sleep(ms: number): Promise<code>&lt;void&gt;</code>",id:"sleepms-number-promisevoid",level:4},{value:"Number Helpers",id:"number-helpers",level:2},{value:"Num.abbreviate(num: number): string",id:"numabbreviatenum-number-string",level:4},{value:"Num.clamp(num: number, min: number, max: number): number",id:"numclampnum-number-min-number-max-number-number",level:4},{value:"Num.currencyFormat(num: number, currency?: string): string",id:"numcurrencyformatnum-number-currency-string-string",level:4},{value:"Num.fileSize(num: number): string",id:"numfilesizenum-number-string",level:4},{value:"Num.format(num: number, decimalPlaces?: number): string",id:"numformatnum-number-decimalplaces-number-string",level:4},{value:"Num.ordinal(num: number): string",id:"numordinalnum-number-string",level:4},{value:"Num.parse(str: string | number | undefined): number | undefined",id:"numparsestr-string--number--undefined-number--undefined",level:4},{value:"Num.spell(num: number): string",id:"numspellnum-number-string",level:4},{value:"Num.spellOrdinal(num: number): string",id:"numspellordinalnum-number-string",level:4},{value:"Array Helpers",id:"array-helpers",level:2},{value:"Arr.intersperse<code>&lt;T, S&gt;</code>(arr: T[], sep: S): (T | S)[]",id:"arrintersperset-sarr-t-sep-s-t--s",level:4},{value:"Arr.flatten<code>&lt;T&gt;</code>(arr: T[][]): T[]",id:"arrflattentarr-t-t",level:4},{value:"Arr.crossJoin<code>&lt;T, U&gt;</code>(arr1: T[], arr2: U[]): [T, U][]",id:"arrcrossjoint-uarr1-t-arr2-u-t-u",level:4},{value:"Arr.get<code>&lt;T, D&gt;</code>(arr: T[], index: number, defaultValue?: D): T | D | undefined",id:"arrgett-darr-t-index-number-defaultvalue-d-t--d--undefined",level:4},{value:"Arr.first<code>&lt;T, D&gt;</code>(arr: T[], defaultValue?: D): T | D | undefined",id:"arrfirstt-darr-t-defaultvalue-d-t--d--undefined",level:4},{value:"Arr.last<code>&lt;T, D&gt;</code>(arr: T[], defaultValue?: D): T | D | undefined",id:"arrlastt-darr-t-defaultvalue-d-t--d--undefined",level:4},{value:"Arr.split<code>&lt;T&gt;</code>(arr: T[], sizeOrFunc: number | ((item: T, index: number) =&gt; boolean)): T[][]",id:"arrsplittarr-t-sizeorfunc-number--item-t-index-number--boolean-t",level:4},{value:"Arr.random<code>&lt;T&gt;</code>(arr: T[]): T | undefined",id:"arrrandomtarr-t-t--undefined",level:4},{value:"Arr.shuffle<code>&lt;T&gt;</code>(arr: T[]): T[]",id:"arrshuffletarr-t-t",level:4},{value:"Pattern helpers",id:"pattern-helpers",level:2},{value:"export function createSingleton<code>&lt;T&gt;</code>(func: (...args: any[]) =&gt; T): (label?: string, ...args: any[]) =&gt; T",id:"export-function-createsingletontfunc-args-any--t-label-string-args-any--t",level:4},{value:"class FlexibleFactory<code>&lt;T&gt;</code>",id:"class-flexiblefactoryt",level:4}];function o(e){const r={code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"helpers",children:"Helpers"})}),"\n",(0,a.jsx)(r.p,{children:"Set of useful helper functions."}),"\n",(0,a.jsx)(r.h2,{id:"encryption-helpers",children:"Encryption Helpers"}),"\n",(0,a.jsx)(r.h4,{id:"getenvkey-string-defaultvalue-any-any",children:"getEnv(key: string, defaultValue?: any): any"}),"\n",(0,a.jsx)(r.p,{children:"Get environment variable value by key. If not found, return defaultValue.\nif defaultValue is not provided, throw an error"}),"\n",(0,a.jsx)(r.h4,{id:"isbcrypthashstr-string-boolean",children:"isBcryptHash(str: string): boolean"}),"\n",(0,a.jsx)(r.p,{children:"Check if a string is a valid bcrypt hash."}),"\n",(0,a.jsxs)(r.h4,{id:"encryptpasswordpassword-string-promisestring",children:["encryptPassword(password: string): Promise",(0,a.jsx)(r.code,{children:"<string>"})]}),"\n",(0,a.jsx)(r.p,{children:"Encrypt a password using bcrypt."}),"\n",(0,a.jsxs)(r.h4,{id:"comparebcryptpassword-string-hash-string-promiseboolean",children:["compareBcrypt(password: string, hash: string): Promise",(0,a.jsx)(r.code,{children:"<boolean>"})]}),"\n",(0,a.jsx)(r.p,{children:"Compare a password with a bcrypt hash."}),"\n",(0,a.jsx)(r.h2,{id:"time-helpers",children:"Time Helpers"}),"\n",(0,a.jsxs)(r.h4,{id:"sleepms-number-promisevoid",children:["sleep(ms: number): Promise",(0,a.jsx)(r.code,{children:"<void>"})]}),"\n",(0,a.jsx)(r.p,{children:"Sleep for a given number of milliseconds."}),"\n",(0,a.jsx)(r.h2,{id:"number-helpers",children:"Number Helpers"}),"\n",(0,a.jsxs)(r.p,{children:["All number utility functions are available under the ",(0,a.jsx)(r.code,{children:"Num"})," namespace:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { Num } from "@devbro/neko-helper";\n\n// Usage examples\nNum.abbreviate(1500); // "1.5K"\nNum.currencyFormat(1234.56); // "$1,234.56"\nNum.fileSize(1024); // "1 KB"\n'})}),"\n",(0,a.jsx)(r.h4,{id:"numabbreviatenum-number-string",children:"Num.abbreviate(num: number): string"}),"\n",(0,a.jsx)(r.p,{children:"Abbreviates large numbers with appropriate suffixes (K, M, B, T, etc.)."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { Num } from "@devbro/neko-helper";\n\nNum.abbreviate(1000); // "1K"\nNum.abbreviate(1500); // "1.5K"\nNum.abbreviate(1000000); // "1M"\nNum.abbreviate(2500000); // "2.5M"\n'})}),"\n",(0,a.jsx)(r.h4,{id:"numclampnum-number-min-number-max-number-number",children:"Num.clamp(num: number, min: number, max: number): number"}),"\n",(0,a.jsx)(r.p,{children:"Clamps a number between minimum and maximum values."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { Num } from "@devbro/neko-helper";\n\nNum.clamp(5, 1, 10); // 5\nNum.clamp(-5, 1, 10); // 1\nNum.clamp(15, 1, 10); // 10\n'})}),"\n",(0,a.jsx)(r.h4,{id:"numcurrencyformatnum-number-currency-string-string",children:"Num.currencyFormat(num: number, currency?: string): string"}),"\n",(0,a.jsx)(r.p,{children:"Formats a number as currency with proper locale formatting. Default currency is USD."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { Num } from "@devbro/neko-helper";\n\nNum.currencyFormat(1234.56); // "$1,234.56"\nNum.currencyFormat(1234.56, "EUR"); // "\u20ac1,234.56"\nNum.currencyFormat(1000, "GBP"); // "\xa31,000.00"\n'})}),"\n",(0,a.jsx)(r.h4,{id:"numfilesizenum-number-string",children:"Num.fileSize(num: number): string"}),"\n",(0,a.jsx)(r.p,{children:"Formats a number of bytes into a human-readable file size string."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { Num } from "@devbro/neko-helper";\n\nNum.fileSize(1024); // "1 KB"\nNum.fileSize(1536); // "1.5 KB"\nNum.fileSize(1048576); // "1 MB"\nNum.fileSize(500); // "500 B"\n'})}),"\n",(0,a.jsx)(r.h4,{id:"numformatnum-number-decimalplaces-number-string",children:"Num.format(num: number, decimalPlaces?: number): string"}),"\n",(0,a.jsx)(r.p,{children:"Formats a number with specified decimal places and thousands separators. Default is 2 decimal places."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { Num } from "@devbro/neko-helper";\n\nNum.format(1234.5678); // "1,234.57"\nNum.format(1234.5678, 1); // "1,234.6"\nNum.format(1000000); // "1,000,000.00"\nNum.format(42, 0); // "42"\n'})}),"\n",(0,a.jsx)(r.h4,{id:"numordinalnum-number-string",children:"Num.ordinal(num: number): string"}),"\n",(0,a.jsx)(r.p,{children:"Converts a number to its ordinal string representation (1st, 2nd, 3rd, etc.)."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { Num } from "@devbro/neko-helper";\n\nNum.ordinal(1); // "1st"\nNum.ordinal(2); // "2nd"\nNum.ordinal(3); // "3rd"\nNum.ordinal(21); // "21st"\nNum.ordinal(101); // "101st"\n'})}),"\n",(0,a.jsx)(r.h4,{id:"numparsestr-string--number--undefined-number--undefined",children:"Num.parse(str: string | number | undefined): number | undefined"}),"\n",(0,a.jsx)(r.p,{children:"Parses a string or number to extract a numeric value. Returns undefined if parsing fails. Properly handles zero values."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { Num } from "@devbro/neko-helper";\n\nNum.parse("123"); // 123\nNum.parse("123.45"); // 123.45\nNum.parse("-42"); // -42\nNum.parse("1,234"); // 1234\nNum.parse("0"); // 0\nNum.parse(0); // 0\nNum.parse(42); // 42\nNum.parse("not a number"); // undefined\nNum.parse(""); // undefined\n'})}),"\n",(0,a.jsx)(r.h4,{id:"numspellnum-number-string",children:"Num.spell(num: number): string"}),"\n",(0,a.jsx)(r.p,{children:"Converts a number to its written English word representation."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { Num } from "@devbro/neko-helper";\n\nNum.spell(42); // "forty-two"\nNum.spell(100); // "one hundred"\nNum.spell(1001); // "one thousand one"\nNum.spell(-5); // "minus five"\nNum.spell(0); // "zero"\n'})}),"\n",(0,a.jsx)(r.h4,{id:"numspellordinalnum-number-string",children:"Num.spellOrdinal(num: number): string"}),"\n",(0,a.jsx)(r.p,{children:"Converts a number to its written English ordinal word representation."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { Num } from "@devbro/neko-helper";\n\nNum.spellOrdinal(1); // "first"\nNum.spellOrdinal(2); // "second"\nNum.spellOrdinal(3); // "third"\nNum.spellOrdinal(21); // "twenty-first"\nNum.spellOrdinal(100); // "one hundredth"\n'})}),"\n",(0,a.jsx)(r.h2,{id:"array-helpers",children:"Array Helpers"}),"\n",(0,a.jsxs)(r.p,{children:["All array utility functions are available under the ",(0,a.jsx)(r.code,{children:"Arr"})," namespace:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { Arr } from "@devbro/neko-helper";\n\n// Usage examples\nArr.intersperse([1, 2, 3], 0); // [1, 0, 2, 0, 3]\nArr.flatten([\n  [1, 2],\n  [3, 4],\n]); // [1, 2, 3, 4]\nArr.get([1, 2, 3], -1); // 3\n'})}),"\n",(0,a.jsxs)(r.h4,{id:"arrintersperset-sarr-t-sep-s-t--s",children:["Arr.intersperse",(0,a.jsx)(r.code,{children:"<T, S>"}),"(arr: T[], sep: S): (T | S)[]"]}),"\n",(0,a.jsx)(r.p,{children:"Intersperses a separator element between each element of an array."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:"Arr.intersperse([1, 2, 3], 0); // [1, 0, 2, 0, 3]\nArr.intersperse([\"a\", \"b\", \"c\"], \"-\"); // ['a', '-', 'b', '-', 'c']\nArr.intersperse([1], 0); // [1]\nArr.intersperse([], 0); // []\n"})}),"\n",(0,a.jsxs)(r.h4,{id:"arrflattentarr-t-t",children:["Arr.flatten",(0,a.jsx)(r.code,{children:"<T>"}),"(arr: T[][]): T[]"]}),"\n",(0,a.jsx)(r.p,{children:"Flattens a nested array by one level."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:"Arr.flatten([[1, 2], [3, 4], [5]]); // [1, 2, 3, 4, 5]\nArr.flatten([[\"a\", \"b\"], [\"c\"], [\"d\", \"e\"]]); // ['a', 'b', 'c', 'd', 'e']\nArr.flatten([[], [1, 2], []]); // [1, 2]\n"})}),"\n",(0,a.jsxs)(r.h4,{id:"arrcrossjoint-uarr1-t-arr2-u-t-u",children:["Arr.crossJoin",(0,a.jsx)(r.code,{children:"<T, U>"}),"(arr1: T[], arr2: U[]): [T, U][]"]}),"\n",(0,a.jsx)(r.p,{children:"Creates a cross join (Cartesian product) of two arrays."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:"Arr.crossJoin([1, 2], [\"a\", \"b\"]); // [[1, 'a'], [1, 'b'], [2, 'a'], [2, 'b']]\nArr.crossJoin([\"x\"], [1, 2, 3]); // [['x', 1], ['x', 2], ['x', 3]]\nArr.crossJoin([], [1, 2]); // []\n"})}),"\n",(0,a.jsxs)(r.h4,{id:"arrgett-darr-t-index-number-defaultvalue-d-t--d--undefined",children:["Arr.get",(0,a.jsx)(r.code,{children:"<T, D>"}),"(arr: T[], index: number, defaultValue?: D): T | D | undefined"]}),"\n",(0,a.jsx)(r.p,{children:"Gets an element from an array at the specified index. Supports negative indices to count from the end."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:"Arr.get([1, 2, 3, 4], 1); // 2\nArr.get([1, 2, 3, 4], -1); // 4\nArr.get([1, 2, 3], 10, \"default\"); // 'default'\nArr.get([], 0, \"empty\"); // 'empty'\n"})}),"\n",(0,a.jsxs)(r.h4,{id:"arrfirstt-darr-t-defaultvalue-d-t--d--undefined",children:["Arr.first",(0,a.jsx)(r.code,{children:"<T, D>"}),"(arr: T[], defaultValue?: D): T | D | undefined"]}),"\n",(0,a.jsx)(r.p,{children:"Gets the first element of an array."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'Arr.first([1, 2, 3]); // 1\nArr.first(["a", "b", "c"]); // \'a\'\nArr.first([], "default"); // \'default\'\nArr.first([]); // undefined\n'})}),"\n",(0,a.jsxs)(r.h4,{id:"arrlastt-darr-t-defaultvalue-d-t--d--undefined",children:["Arr.last",(0,a.jsx)(r.code,{children:"<T, D>"}),"(arr: T[], defaultValue?: D): T | D | undefined"]}),"\n",(0,a.jsx)(r.p,{children:"Gets the last element of an array."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'Arr.last([1, 2, 3]); // 3\nArr.last(["a", "b", "c"]); // \'c\'\nArr.last([], "default"); // \'default\'\nArr.last([]); // undefined\n'})}),"\n",(0,a.jsxs)(r.h4,{id:"arrsplittarr-t-sizeorfunc-number--item-t-index-number--boolean-t",children:["Arr.split",(0,a.jsx)(r.code,{children:"<T>"}),"(arr: T[], sizeOrFunc: number | ((item: T, index: number) => boolean)): T[][]"]}),"\n",(0,a.jsx)(r.p,{children:"Splits an array into chunks based on size or a predicate function."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:"// Split by size\nArr.split([1, 2, 3, 4, 5, 6], 2); // [[1, 2], [3, 4], [5, 6]]\nArr.split([1, 2, 3, 4, 5], 2); // [[1, 2], [3, 4], [5]]\n\n// Split by predicate\nArr.split([1, 2, 3, 4, 5, 6], (item) => item % 3 === 0);\n// [[1, 2], [3, 4, 5], [6]]\n"})}),"\n",(0,a.jsxs)(r.h4,{id:"arrrandomtarr-t-t--undefined",children:["Arr.random",(0,a.jsx)(r.code,{children:"<T>"}),"(arr: T[]): T | undefined"]}),"\n",(0,a.jsx)(r.p,{children:"Returns a random element from an array."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'Arr.random([1, 2, 3, 4, 5]); // any element from array (e.g., 3)\nArr.random(["apple", "banana", "cherry"]); // any string (e.g., \'banana\')\nArr.random([]); // undefined\nArr.random(["single"]); // \'single\'\n'})}),"\n",(0,a.jsxs)(r.h4,{id:"arrshuffletarr-t-t",children:["Arr.shuffle",(0,a.jsx)(r.code,{children:"<T>"}),"(arr: T[]): T[]"]}),"\n",(0,a.jsx)(r.p,{children:"Returns a new array with elements shuffled in random order using Fisher-Yates algorithm."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:"Arr.shuffle([1, 2, 3, 4, 5]); // [3, 1, 5, 2, 4] (random order)\nArr.shuffle([\"a\", \"b\", \"c\"]); // ['c', 'a', 'b'] (random order)\nArr.shuffle([]); // []\nArr.shuffle([\"single\"]); // ['single']\n"})}),"\n",(0,a.jsx)(r.h2,{id:"pattern-helpers",children:"Pattern helpers"}),"\n",(0,a.jsxs)(r.h4,{id:"export-function-createsingletontfunc-args-any--t-label-string-args-any--t",children:["export function createSingleton",(0,a.jsx)(r.code,{children:"<T>"}),"(func: (...args: any[]) => T): (label?: string, ...args: any[]) => T"]}),"\n",(0,a.jsx)(r.p,{children:"Create a singleton instance using a method. It will return a function that will return the singleton instance.\neach singleton is identified by a label. if label is not provided, it will be a default singleton.\nif the function is called again with the same label, it will return the same instance."}),"\n",(0,a.jsxs)(r.h4,{id:"class-flexiblefactoryt",children:["class FlexibleFactory",(0,a.jsx)(r.code,{children:"<T>"})]}),"\n",(0,a.jsx)(r.p,{children:"A factory class that can create instances of a class with different configurations.\nyou first need to register different functions that will create the instance.\nthen you can create the instance by calling the create method with the label of the function."}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-ts",children:'import { FlexibleFactory } from "@devbro/pashmak/helpers";\n\nclass MailerProviderFactory extends FlexibleFactory<Mailer> {}\n\nMailerProviderFactory.register("smtp", (config) => new SmtpMailer(config));\nMailerProviderFactory.register(\n  "sendgrid",\n  (config) => new SendgridMailer(config),\n);\n\nconst mailer = MailerProviderFactory.create("smtp", {\n  host: "smtp.example.com",\n});\n'})})]})}function c(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}}}]);