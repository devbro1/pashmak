"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4512],{3023:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var t=r(3696);const s={},i=t.createContext(s);function a(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:n},e.children)}},4293:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"going-deeper/helper","title":"Helpers","description":"Set of useful helper functions.","source":"@site/docs/going-deeper/helper.md","sourceDirName":"going-deeper","slug":"/going-deeper/helper","permalink":"/pashmak/docs/going-deeper/helper","draft":false,"unlisted":false,"editUrl":"https://github.com/devbro1/pashmak/blob/master/docs/docs/going-deeper/helper.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"File Storage","permalink":"/pashmak/docs/going-deeper/file-storage"},"next":{"title":"Loggers","permalink":"/pashmak/docs/going-deeper/logger"}}');var s=r(2540),i=r(3023);const a={sidebar_position:4},l="Helpers",o={},c=[{value:"Encryption Helpers",id:"encryption-helpers",level:2},{value:"getEnv(key: string, defaultValue?: any): any",id:"getenvkey-string-defaultvalue-any-any",level:4},{value:"isBcryptHash(str: string): boolean",id:"isbcrypthashstr-string-boolean",level:4},{value:"encryptPassword(password: string): Promise<code>&lt;string&gt;</code>",id:"encryptpasswordpassword-string-promisestring",level:4},{value:"compareBcrypt(password: string, hash: string): Promise<code>&lt;boolean&gt;</code>",id:"comparebcryptpassword-string-hash-string-promiseboolean",level:4},{value:"Time Helpers",id:"time-helpers",level:2},{value:"sleep(ms: number): Promise<code>&lt;void&gt;</code>",id:"sleepms-number-promisevoid",level:4},{value:"Pattern helpers",id:"pattern-helpers",level:2},{value:"export function createSingleton<code>&lt;T&gt;</code>(func: (...args: any[]) =&gt; T): (label?: string, ...args: any[]) =&gt; T",id:"export-function-createsingletontfunc-args-any--t-label-string-args-any--t",level:4},{value:"class FlexibleFactory<code>&lt;T&gt;</code>",id:"class-flexiblefactoryt",level:4}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"helpers",children:"Helpers"})}),"\n",(0,s.jsx)(n.p,{children:"Set of useful helper functions."}),"\n",(0,s.jsx)(n.h2,{id:"encryption-helpers",children:"Encryption Helpers"}),"\n",(0,s.jsx)(n.h4,{id:"getenvkey-string-defaultvalue-any-any",children:"getEnv(key: string, defaultValue?: any): any"}),"\n",(0,s.jsx)(n.p,{children:"Get environment variable value by key. If not found, return defaultValue.\nif defaultValue is not provided, throw an error"}),"\n",(0,s.jsx)(n.h4,{id:"isbcrypthashstr-string-boolean",children:"isBcryptHash(str: string): boolean"}),"\n",(0,s.jsx)(n.p,{children:"Check if a string is a valid bcrypt hash."}),"\n",(0,s.jsxs)(n.h4,{id:"encryptpasswordpassword-string-promisestring",children:["encryptPassword(password: string): Promise",(0,s.jsx)(n.code,{children:"<string>"})]}),"\n",(0,s.jsx)(n.p,{children:"Encrypt a password using bcrypt."}),"\n",(0,s.jsxs)(n.h4,{id:"comparebcryptpassword-string-hash-string-promiseboolean",children:["compareBcrypt(password: string, hash: string): Promise",(0,s.jsx)(n.code,{children:"<boolean>"})]}),"\n",(0,s.jsx)(n.p,{children:"Compare a password with a bcrypt hash."}),"\n",(0,s.jsx)(n.h2,{id:"time-helpers",children:"Time Helpers"}),"\n",(0,s.jsxs)(n.h4,{id:"sleepms-number-promisevoid",children:["sleep(ms: number): Promise",(0,s.jsx)(n.code,{children:"<void>"})]}),"\n",(0,s.jsx)(n.p,{children:"Sleep for a given number of milliseconds."}),"\n",(0,s.jsx)(n.h2,{id:"pattern-helpers",children:"Pattern helpers"}),"\n",(0,s.jsxs)(n.h4,{id:"export-function-createsingletontfunc-args-any--t-label-string-args-any--t",children:["export function createSingleton",(0,s.jsx)(n.code,{children:"<T>"}),"(func: (...args: any[]) => T): (label?: string, ...args: any[]) => T"]}),"\n",(0,s.jsx)(n.p,{children:"Create a singleton instance using a method. It will return a function that will return the singleton instance.\neach singleton is identified by a label. if label is not provided, it will be a default singleton.\nif the function is called again with the same label, it will return the same instance."}),"\n",(0,s.jsxs)(n.h4,{id:"class-flexiblefactoryt",children:["class FlexibleFactory",(0,s.jsx)(n.code,{children:"<T>"})]}),"\n",(0,s.jsx)(n.p,{children:"A factory class that can create instances of a class with different configurations.\nyou first need to register different functions that will create the instance.\nthen you can create the instance by calling the create method with the label of the function."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'import { FlexibleFactory } from "@devbro/pashmak/helpers";\n\nclass MailerFactory extends FlexibleFactory<Mailer> {}\n\nMailerFactory.register("smtp", (config) => new SmtpMailer(config));\nMailerFactory.register("sendgrid", (config) => new SendgridMailer(config));\n\nconst mailer = MailerFactory.create("smtp", { host: "smtp.example.com" });\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);