"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1772],{3023:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>c});var r=n(3696);const d={},t=r.createContext(d);function l(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),r.createElement(t.Provider,{value:s},e.children)}},9532:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"going-deeper/scheduler","title":"Scheduler and Cron Jobs","description":"Every system needs to run some tasks periodically. Pashmak provides a simple way to define and run scheduled tasks using cron syntax.","source":"@site/docs/going-deeper/scheduler.md","sourceDirName":"going-deeper","slug":"/going-deeper/scheduler","permalink":"/pashmak/docs/going-deeper/scheduler","draft":false,"unlisted":false,"editUrl":"https://github.com/devbro1/pashmak/blob/master/docs/docs/going-deeper/scheduler.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Queue and Messaging","permalink":"/pashmak/docs/going-deeper/queue"},"next":{"title":"Cache","permalink":"/pashmak/docs/going-deeper/cache"}}');var d=n(2540),t=n(3023);const l={sidebar_position:7},c="Scheduler and Cron Jobs",o={},h=[{value:"Other scheduler methods",id:"other-scheduler-methods",level:2},{value:"scheduler().start();",id:"schedulerstart",level:3},{value:"scheduler().stop();",id:"schedulerstop",level:3},{value:"scheduler().getSchedules();",id:"schedulergetschedules",level:3},{value:"scheduler().findSchedule(&#39;schedule_name&#39;);",id:"schedulerfindscheduleschedule_name",level:3},{value:"scheduler().getScheduleNames();",id:"schedulergetschedulenames",level:3},{value:"scheduler().setContextWrapper(func);",id:"schedulersetcontextwrapperfunc",level:3},{value:"scheduler().setErrorHandler(func);",id:"schedulerseterrorhandlerfunc",level:3}];function u(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.header,{children:(0,d.jsx)(s.h1,{id:"scheduler-and-cron-jobs",children:"Scheduler and Cron Jobs"})}),"\n",(0,d.jsx)(s.p,{children:"Every system needs to run some tasks periodically. Pashmak provides a simple way to define and run scheduled tasks using cron syntax."}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-ts",children:'import { schedule } from "@devbro/pashmak/scheduler";\n\nscheduler()\n  .call(async () => {\n    console.log("This runs every minute");\n  })\n  .setCronTime("* * * * *")\n  .setName("redflag cron job")\n  .setRunOnStart(true);\n'})}),"\n",(0,d.jsx)(s.h2,{id:"other-scheduler-methods",children:"Other scheduler methods"}),"\n",(0,d.jsx)(s.h3,{id:"schedulerstart",children:"scheduler().start();"}),"\n",(0,d.jsx)(s.h3,{id:"schedulerstop",children:"scheduler().stop();"}),"\n",(0,d.jsx)(s.p,{children:"to start and stop the scheduler."}),"\n",(0,d.jsx)(s.h3,{id:"schedulergetschedules",children:"scheduler().getSchedules();"}),"\n",(0,d.jsx)(s.p,{children:"to get schedules currently registered"}),"\n",(0,d.jsx)(s.h3,{id:"schedulerfindscheduleschedule_name",children:"scheduler().findSchedule('schedule_name');"}),"\n",(0,d.jsx)(s.p,{children:"find a schedule by its name. Note, if schedule has no name it cannot be found this way."}),"\n",(0,d.jsx)(s.h3,{id:"schedulergetschedulenames",children:"scheduler().getScheduleNames();"}),"\n",(0,d.jsx)(s.p,{children:"to get all schedule names."}),"\n",(0,d.jsx)(s.h3,{id:"schedulersetcontextwrapperfunc",children:"scheduler().setContextWrapper(func);"}),"\n",(0,d.jsx)(s.p,{children:"There may be a time when you need to switch the context provider to your own implementation. then you can use this method to set your own context wrapper function. Unless you know what you are doing, do not call this method."}),"\n",(0,d.jsx)(s.h3,{id:"schedulerseterrorhandlerfunc",children:"scheduler().setErrorHandler(func);"}),"\n",(0,d.jsx)(s.p,{children:"to set a global error handler for all scheduled tasks. This is useful when you want to log errors or send notifications when a scheduled task fails."})]})}function a(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(u,{...e})}):u(e)}}}]);